// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/docker-outside-of-docker
{
	"name": "crossplanes-provider-sandbox",
	"image": "mcr.microsoft.com/devcontainers/base:bullseye",
	"features": {
		"ghcr.io/devcontainers/features/docker-outside-of-docker:1": {
			"version": "20.10.25",
			"enableNonRootDocker": "false",
			"moby": "true"
		},
		"ghcr.io/devcontainers/features/go:1": {
			"version": "1.19"
		},
		"ghcr.io/devcontainers-contrib/features/kind:1": {
			"version": "0.15.0"
		},
		"ghcr.io/jungaretti/features/make:1": {},
		"ghcr.io/lentzi90/features/tilt:0": {},
		"ghcr.io/devcontainers/features/kubectl-helm-minikube:1": {
			"minikube": "none",
			"helm": "3.12.0"
		},
		"ghcr.io/jsburckhardt/devcontainer-features/flux:1": {

		}
	},
	"runArgs": [
		"--network=kind-sandbox"
	],
	"initializeCommand": "docker network create kind-sandbox || true",
	"remoteEnv": {
		"LOCAL_WORKSPACE_FOLDER": "${localWorkspaceFolder}",
		"KIND_EXPERIMENTAL_DOCKER_NETWORK": "kind-sandbox",
		"TILT_DISABLE_ANALYTICS": "true",
		"DO_NOT_TRACK": "1"
	},
	"remoteUser": "root"
}
